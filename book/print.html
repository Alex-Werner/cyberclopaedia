<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MHN</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">MHN</a></li><li class="chapter-item expanded "><a href="Reconnaissance/index.html">Reconnaissance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Tools/index.html">Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Tools/recon-ng.html">recon-ng</a></li><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Tools/theHarvester.html">theHarvester</a></li></ol></li><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/General.html">General</a></li><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Google Dorks.html">Google Dorks</a></li><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Domain Name Enumeration.html">Domain Name Enumeration</a></li><li class="chapter-item expanded "><a href="Reconnaissance/OSINT/Harvesting E-Mails.html">Harvesting E-Mails</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MHN</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cr0mll/master-hacking-notes/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="master-hacking-notes"><a class="header" href="#master-hacking-notes">Master Hacking Notes</a></h1>
<p>This is a collection of notes about cybersecurity which I will be expanding throughout the years.</p>
<p>The notes may be viewed entirely through GitHub, since image rendering now works properly. No need to clone the repository.</p>
<p><em>The information here is for educational purposes only and I do not bear any responsibility for your own actions. Use the knowledge here for good.</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="osint"><a class="header" href="#osint">OSINT</a></h1>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-recon-ng"><a class="header" href="#what-is-recon-ng">What is recon-ng?</a></h1>
<p>Recon-ng is a powerful open-source framework for conducting OSINT. It is available at https://github.com/lanmaster53/recon-ng</p>
<h1 id="setup"><a class="header" href="#setup">Setup</a></h1>
<p>recon-ng comes pre-installed with Kali, but can be downloaded on Debian-based distros through the <code>apt</code> package manager.</p>
<pre><code class="language-bash">sudo apt install recon-ng
</code></pre>
<p>For many of the modules you will need to add API keys. More on that you can read <a href="https://github.com/lanmaster53/recon-ng-marketplace/wiki/API-Keys">here</a>.</p>
<p>You will need to install any modules before using them. You can install all modules with the following command inside recon-ng:</p>
<pre><code class="language-bash">marketplace install all
</code></pre>
<pre><code class="language-bash">[recon-ng][default] &gt; marketplace install all
[*] Module installed: discovery/info_disclosure/cache_snoop
[*] Module installed: discovery/info_disclosure/interesting_files
[*] Module installed: exploitation/injection/command_injector
[*] Module installed: exploitation/injection/xpath_bruter
[*] Module installed: import/csv_file
[*] Module installed: import/list
[*] Module installed: import/masscan
[*] Module installed: import/nmap
--snip--
[*] Reloading modules...
</code></pre>
<p>You will also see errors for any API keys you haven't set up yet:</p>
<pre><code class="language-bash">[!] 'github_api' key not set. github_commits module will likely fail at runtime. See 'keys add'.
[!] Module 'recon/netblocks-companies/censys_netblock_company' disabled. Dependency required: ''censys''.
[!] 'whoxy_api' key not set. whoxy_whois module will likely fail at runtime. See 'keys add'.
[!] Module 'recon/domains-companies/censys_companies' disabled. Dependency required: ''censys''.
[!] 'bing_api' key not set. bing_linkedin_contacts module will likely fail at runtime. See 'keys add'.
[!] 'github_api' key not set. github_users module will likely fail at runtime. See 'keys add'.
[!] Module 'recon/hosts-hosts/censys_hostname' disabled. Dependency required: ''censys''.
[!] Module 'recon/hosts-hosts/censys_ip' disabled. Dependency required: ''censys''.
[!] 'ipinfodb_api' key not set. ipinfodb module will likely fail at runtime. See 'keys add'.
--snip--
</code></pre>
<h1 id="workflow"><a class="header" href="#workflow">Workflow</a></h1>
<ol>
<li>
<p>Workspaces - recon-ng organises gathered information into workspaces, which are managed with the <code>workspaces</code> command. Workspaces are stored in <code>~/.recon-ng/workspaces</code></p>
<ul>
<li>
<p>create a workspace:</p>
<pre><code class="language-bash">workspaces create &lt;name&gt;
</code></pre>
<pre><code class="language-bash">[recon-ng][default] &gt; workspaces create MHN
[recon-ng][MHN] &gt;
</code></pre>
</li>
<li>
<p>list all workspaces:</p>
<pre><code class="language-bash">worspaces list
</code></pre>
<p><img src="Reconnaissance/OSINT/Tools/../Resources/Images/recon-ng-workspaces-list.png" alt="" /></p>
</li>
</ul>
</li>
<li>
<p>Modules - recon-ng organises its functionality into the so-called modules which need to be installed before they may be used.</p>
<ul>
<li>
<p>load a module:</p>
<pre><code class="language-bash">modules load &lt;name&gt;
</code></pre>
<p><img src="Reconnaissance/OSINT/Tools/../Resources/Images/recon-ng-modules-load.png" alt="" /></p>
</li>
<li>
<p>run a module:</p>
<pre><code class="language-bash">run
</code></pre>
<pre><code class="language-bash">[recon-ng][MHN][profiler] &gt; run
[!] Source contains no input.
</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="modules"><a class="header" href="#modules">Modules</a></h1>
<h3 id="profiler"><a class="header" href="#profiler">profiler</a></h3>
<p>This module is a <em>profile collector</em> - it searches the Web for user profiles belonging to target individuals and stores any information it finds in the recon-ng database. It uses a table called <code>profiles</code> as its source.</p>
<ul>
<li>insert a username into the table:
<pre><code class="language-bash">db insert profiles &lt;username&gt;~~~~
</code></pre>
<pre><code class="language-bash">[recon-ng][MHN][profiler] &gt; db insert profiles testuser~~~~
[*] 1 rows affected.
[recon-ng][MHN][profiler] &gt; show profiles

+---------------------------------------------------------------------+
| rowid | username | resource | url | category | notes |    module    |
+---------------------------------------------------------------------+
| 1     | testuser |          |     |          |       | user_defined |
+---------------------------------------------------------------------+

[*] 1 rows returned
</code></pre>
<ul>
<li>you can also insert an e-mail address or just the first part of one (without the @ and domain)</li>
<li>inserting multiple usernames and/or e-mail addresses is also possible</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-theharvester"><a class="header" href="#what-is-theharvester">What is theHarvester?</a></h1>
<p>theHarvester is a powerful tool for gathering emails, names, subdomains, IPs, and URLs using a multitude of publicly available data sources. The tool is primarily a passive reconnaissance tool, however, it does employ some active reconnaissance, too. The active aspects are the DNS brute force and the screenshots it can take of any subdomains that were found. The GitHub page for theHarvester is located at https://github.com/laramies/theHarvester.</p>
<h1 id="email-and-subdomain-harvesting"><a class="header" href="#email-and-subdomain-harvesting">Email and subdomain harvesting</a></h1>
<p>All you need to get started is a domain name. You specify it with the <code>-d</code> argument. You need to provide a data source using the <code>-b</code> option. These are the sources you can choose from:</p>
<p><code>baidu, bing, bingapi, dogpile, google, googleCSE, googleplus, google-profiles, linkedin, pgp, twitter, vhost, virustotal, threatcrowd, crtsh, netcraft, yahoo, all</code></p>
<p>This is a simple theHarvester query:</p>
<pre><code class="language-bash">theHarvester -d kali.org -b google
</code></pre>
<p><img src="Reconnaissance/OSINT/Tools/../Resources/Images/theHarvester-simple-results.png" alt="" /></p>
<p>Additional options:</p>
<ul>
<li><code>-l</code> - limit the number of results to work with</li>
<li><code>-s</code> - start in the specified result number</li>
<li><code>-h</code> - use SHODAN database to query discovered hosts</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-are-you-looking-for"><a class="header" href="#what-are-you-looking-for">What are you looking for?</a></h1>
<p>The goal of OSINT (OpenSource Intelligence Gathering) is to obtain information about the victim. This is <em>passive</em> reconnaissance as it doesn't interact with the target systems at all and is therefore not detectable. You should be generally looking for the following:</p>
<ul>
<li>usernames, profile names and email addresses</li>
<li>passwords, PINs, private keys</li>
<li>domain names</li>
<li>hostnames</li>
<li>software and OS types, versions, and names</li>
<li>IP addresses</li>
<li>technical documentation</li>
</ul>
<h1 id="where-can-you-find-this-information"><a class="header" href="#where-can-you-find-this-information">Where can you find this information?</a></h1>
<ul>
<li>social media (Facebook, Instagram, LinkedIn, Twitter, YouTube, etc.)</li>
<li>personal websites</li>
<li>accounts in forums and common platforms such as Github</li>
<li>public databases (wireless registrars, ICANN, domain name registrars, libraries, and even phone directories)</li>
<li>peer-to-peer sharing networks</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Goolge can be a very powerful tool in your OSINT toolkit. <em>Google dorking</em> or <em>Google hacking</em> is the art of using specially crafted Google queries to expose sensitive information on the Internet. Such a query is called a <em>Google dork</em>.</p>
<p>You may find all sorts of data and information, including exposed <em>passwd</em> files, lists with usernames, software versions, and so on.</p>
<p><em>Note: If you find such an exposed web server, do NOT click on the links from the search results. Such an act may be considered illegal! Only do this if you have written permission from the target system's owner.</em></p>
<p>A good resource for finding Google dorks is the Google Hacking Database located at https://www.exploit-db.com/google-hacking-database.</p>
<p><em>You shouldn't enter any spaces between the advanced search operator and the query</em>.</p>
<h1 id="common-operators"><a class="header" href="#common-operators">Common operators</a></h1>
<p><strong>site:</strong> - restricts the search results to those only on the specified domain or site</p>
<p><strong>inurl:</strong> - restricts results to pages containing the specified word in the URL</p>
<p><strong>allinurl:</strong> - restricts results to pages containing all the specified words in the URL</p>
<p><strong>intitle:</strong> - restricts results to pages containing the specified word in the title</p>
<p><strong>allintitle:</strong> - restricts results to pages containing all the specified words in the title</p>
<p><strong>inanchor:</strong> - restricts results to pages containing the specified word in the anchor text of links located on that page</p>
<ul>
<li>an anchor text is the text displayed for links instead of the URL</li>
</ul>
<p><strong>allinanchor:</strong> - restricts results to pages containing all the specified terms in the anchor text of links located on that page</p>
<p><strong>cache:</strong> - displays Google's cached version of the webpage instead of the current version</p>
<p><strong>link:</strong> - searches for pages that contain links pointing to the specified site or page</p>
<ul>
<li>you can't combine a link operator with a regular keyword query</li>
<li>combining link: with other advanced search operators may not yield all the matching results</li>
</ul>
<p><strong>related:</strong> - displays websites similar or related to the one specified</p>
<p><strong>info:</strong> - finds information about a specific page</p>
<p><strong>location:</strong> - finds location information about a specific query</p>
<p><strong>filetype:</strong> - restricts results to the specified filetype</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-whois-for-gathering-domain-name-and-ip-address-information"><a class="header" href="#using-whois-for-gathering-domain-name-and-ip-address-information">Using whois for gathering domain name and IP address information</a></h1>
<p><code>whois</code> is a tool for finding domain name and IP address information which can be used as part of your OSINT gathering because it uses public data sources. You can use it as follows:</p>
<pre><code class="language-bash">whois &lt;hostname&gt;
</code></pre>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ whois tesla.com                                                                                                                                                                                                                      1 ⨯
   Domain Name: TESLA.COM
   Registry Domain ID: 187902_DOMAIN_COM-VRSN
   Registrar WHOIS Server: whois.markmonitor.com
   Registrar URL: http://www.markmonitor.com
   Updated Date: 2020-10-02T09:07:57Z
   Creation Date: 1992-11-04T05:00:00Z
   Registry Expiry Date: 2022-11-03T05:00:00Z
   Registrar: MarkMonitor Inc.
   Registrar IANA ID: 292
   Registrar Abuse Contact Email: abusecomplaints@markmonitor.com
   Registrar Abuse Contact Phone: +1.2083895740
   Domain Status: clientDeleteProhibited https://icann.org/epp#clientDeleteProhibited
   Domain Status: clientTransferProhibited https://icann.org/epp#clientTransferProhibited
   Domain Status: clientUpdateProhibited https://icann.org/epp#clientUpdateProhibited
   Domain Status: serverDeleteProhibited https://icann.org/epp#serverDeleteProhibited
   Domain Status: serverTransferProhibited https://icann.org/epp#serverTransferProhibited
   Domain Status: serverUpdateProhibited https://icann.org/epp#serverUpdateProhibited
   Name Server: A1-12.AKAM.NET
   Name Server: A10-67.AKAM.NET
   Name Server: A12-64.AKAM.NET
   Name Server: A28-65.AKAM.NET
   Name Server: A7-66.AKAM.NET
   Name Server: A9-67.AKAM.NET
   Name Server: EDNS69.ULTRADNS.BIZ
   Name Server: EDNS69.ULTRADNS.COM
   Name Server: EDNS69.ULTRADNS.NET
   Name Server: EDNS69.ULTRADNS.ORG
   DNSSEC: unsigned
   URL of the ICANN Whois Inaccuracy Complaint Form: https://www.icann.org/wicf/
&gt;&gt;&gt; Last update of whois database: 2021-09-14T09:01:10Z &lt;&lt;&lt;
</code></pre>
<h1 id="using-host-for-quick-lookups"><a class="header" href="#using-host-for-quick-lookups">Using host for quick lookups</a></h1>
<p><code>host</code> is DNS querying tool which can be used for quick lookups. It will often return more than a single IP address:</p>
<pre><code class="language-bash">host &lt;hostname or IP&gt;
</code></pre>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ host google.com                
google.com has address 172.217.169.174
google.com has IPv6 address 2a00:1450:4017:80a::200e
google.com mail is handled by 10 aspmx.l.google.com.
google.com mail is handled by 20 alt1.aspmx.l.google.com.
google.com mail is handled by 40 alt3.aspmx.l.google.com.
google.com mail is handled by 30 alt2.aspmx.l.google.com.
google.com mail is handled by 50 alt4.aspmx.l.google.com.
</code></pre>
<p>You can also do reverse name lookups by supplying an IP address:</p>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ host 8.8.8.8        
8.8.8.8.in-addr.arpa domain name pointer dns.google.
</code></pre>
<p>A special domain <code>in-addr.arpa</code> is used for reverse DNS lookups. You can read more about it <a href="Reconnaissance/OSINT/../../General/Networking/DNS/The%20in-addr.arpa%20Domain.html">here</a>.</p>
<h1 id="querying-name-servers-with-dig"><a class="header" href="#querying-name-servers-with-dig">Querying name servers with dig</a></h1>
<p><code>dig</code> is a tool for performing DNS queries. It can be used to request specific resource records such as the SOA.</p>
<pre><code class="language-bash">dig &lt;domain&gt; SOA
</code></pre>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ dig google.com SOA

; &lt;&lt;&gt;&gt; DiG 9.16.15-Debian &lt;&lt;&gt;&gt; google.com SOA
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 41904
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; MBZ: 0x0005, udp: 512
;; QUESTION SECTION:
;google.com.                    IN      SOA

;; ANSWER SECTION:
google.com.             5       IN      SOA     ns1.google.com. dns-admin.google.com. 396314134 900 900 1800 60

;; Query time: 8 msec
;; SERVER: 192.168.129.2#53(192.168.129.2)
;; WHEN: Tue Sep 14 15:43:28 EEST 2021
;; MSG SIZE  rcvd: 89
</code></pre>
<p>We can see that the SOA is listed as <code>ns1.google.com</code> in the <code>ANSWER SECTION</code>. You can find the IP of this name server with dig, too.</p>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ dig ns1.google.com

; &lt;&lt;&gt;&gt; DiG 9.16.15-Debian &lt;&lt;&gt;&gt; ns1.google.com
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 41311
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; MBZ: 0x0005, udp: 512
;; QUESTION SECTION:
;ns1.google.com.                        IN      A

;; ANSWER SECTION:
ns1.google.com.         5       IN      A       216.239.32.10

;; Query time: 43 msec
;; SERVER: 192.168.129.2#53(192.168.129.2)
;; WHEN: Tue Sep 14 15:47:51 EEST 2021
;; MSG SIZE  rcvd: 59
</code></pre>
<p>Note that usually the SOA for domains of smaller organizations, isn't actually a part of that domain, but is instead a server provided by a hosting company.</p>
<p>Notice how in the answer section for <code>google.com</code> there was a <code>dns-admin.google.com</code> domain? That's actually not a domain, it's an email address and should be read as <code>dns-admin@google.com</code>. Yep, DNS stores emails in zone files, too. But how do you figure out which one is a hostname and which is an email address? The email address comes last.</p>
<p><code>dig</code> can also be used to query specific name servers with the following syntax:</p>
<pre><code class="language-bash">dig @&lt;name server&gt; &lt;domain&gt;
</code></pre>
<pre><code class="language-bash">┌──(backslash0@kali)-[~]-[]
└─$ dig @192.168.129.138 nsa.gov     

; &lt;&lt;&gt;&gt; DiG 9.16.15-Debian &lt;&lt;&gt;&gt; @192.168.129.138 nsa.gov
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 48156
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;nsa.gov.                       IN      A

;; AUTHORITY SECTION:
nsa.gov.                600     IN      SOA     ns1.nsa.gov. root.nsa.gov. 2007010401 3600 600 86400 600

;; Query time: 0 msec
;; SERVER: 192.168.129.138#53(192.168.129.138)
;; WHEN: Tue Sep 14 15:57:47 EEST 2021
;; MSG SIZE  rcvd: 81
</code></pre>
<p>Here we notice that there is no <code>ANSWER SECTION</code>, but there is an <code>AUTHORITY SECTION</code>. The queried server didn't reply with a direct answer to our request but instead pointed us to the name server responsible for answering queries about <code>nsa.gov</code>, which turns out to be <code>ns1.nsa.gov</code>. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grabbing-e-mails-from-google-using-goog-mailpy"><a class="header" href="#grabbing-e-mails-from-google-using-goog-mailpy">Grabbing E-Mails from Google using goog-mail.py</a></h1>
<p><code>goog-mail.py</code> is a useful script used for getting email addresses from Google search results. Its author is unknown, but the script is available in many different places online.</p>
<ol>
<li>You will need to download the script from https://github.com/leebaird/discover/blob/master/mods/goog-mail.py (or any other place you found it)</li>
</ol>
<pre><code class="language-bash">wget https://raw.githubusercontent.com/leebaird/discover/master/mods/goog-mail.py
</code></pre>
<pre><code class="language-bash">┌──(backslash0㉿kali)-[~/MHN/Reconnaissance/OSINT]
└─$ wget https://raw.githubusercontent.com/leebaird/discover/master/mods/goog-mail.py                                                                                                                                                    1 ⨯
--2021-09-06 10:05:18--  https://raw.githubusercontent.com/leebaird/discover/master/mods/goog-mail.py
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.110.133, 185.199.108.133, 185.199.111.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.110.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2103 (2.1K) [text/plain]
Saving to: ‘goog-mail.py’

goog-mail.py.1                                              100%[========================================================================================================================================&gt;]   2.05K  --.-KB/s    in 0s      

2021-09-06 10:05:18 (41.9 MB/s) - ‘goog-mail.py’ saved [2103/2103]
</code></pre>
<ol start="2">
<li>Run the script providing a <code>domain_name</code></li>
</ol>
<pre><code class="language-bash">python2 goog-mail.py [domain_name]
</code></pre>
<pre><code class="language-bash">┌──(backslash0㉿kali)-[~/MHN/Reconnaissance/OSINT]
└─$ python2 goog-mail.py uk.ibm.com
ukclubom@uk.ibm.com
martyn.spink@uk.ibm.com
gfhelp@uk.ibm.com
iand_ferguson@uk.ibm.com
graham.butler@uk.ibm.com
laurence.carpanini@uk.ibm.com
Pensions@uk.ibm.com
Bennett@uk.ibm.com
ibm_crc@uk.ibm.com
brian.mcglone@uk.ibm.com
wakefim@uk.ibm.com
</code></pre>
<ol start="3">
<li>Make sure the emails look valid</li>
</ol>
<h1 id="other-tools"><a class="header" href="#other-tools">Other tools</a></h1>
<p>Another very good tool for this purpose is <a href="Reconnaissance/OSINT/Tools/theHarvester.html">theHarvester</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
